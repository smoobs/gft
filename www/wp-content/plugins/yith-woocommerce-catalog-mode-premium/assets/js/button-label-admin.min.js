jQuery(function(L){function M(t){return t.replace(/{{(((\w+-?)*) ((\w+\d*-?)*))}}/gm,'<i class="$1"></i>')}L(window).on("resize",function(){L(window).width()<1440?L("body").addClass("folded"):L("body").removeClass("folded")}),L(".ywctm-back-button").on("click",function(){window.onbeforeunload=""});var N=L("tr.ywctm_selected_icon"),O=L("tr.ywctm_selected_icon_size"),Q=L("tr.ywctm_selected_icon_alignment"),U=L("tr.ywctm_icon_color"),$=L("tr.ywctm_custom_icon");L(function(){L(window).width()<1440&&L("body").addClass("folded"),L(".ywctm-metabox-tab-button").each(function(){L(this).click(function(){var t=L(this).data("tab-name"),e=L(".ywctm-settings-wrapper."+t);e.hasClass("tab-active")||(L(".ywctm-metabox-tab-button").removeClass("tab-active"),L(".ywctm-settings-wrapper").removeClass("tab-active"),L(this).addClass("tab-active"),e.addClass("tab-active"))})});var K=L("span.ywctm-custom-button");L(document).on("tinymce-editor-setup",function(t,e){e.on("init",function(t){t.target.editorCommands.execCommand("fontName",!1,ywctm_btns.editor_font),t.target.editorCommands.execCommand("fontSize",!1,"16px")}),e.on("ExecCommand",function(t){""!==t.target.getContent()&&K.find(".ywctm-inquiry-title").html(M(t.target.getContent()))}),e.on("SetContent",function(t){""!==t.content&&K.find(".ywctm-inquiry-title").html(M(t.content))}),e.on("KeyUp",function(t){K.find(".ywctm-inquiry-title").html(M(t.target.innerHTML))})}),K.css("font-family",ywctm_btns.editor_font),L(".ywctm-metabox-wrapper input, .ywctm-metabox-wrapper select, .ywctm-metabox-wrapper .yit-icons-manager-wrapper, .ywctm-metabox-wrapper .ui-slider-horizontal, .wp-editor-area").on("change keyup input keydown keypress click mousemove",function(){var t,e,o=L(this),i=K.find(".ywctm-inquiry-title").html(),s="";if(!L(this).hasClass("wp-editor-area")||""===L(this).val()&&-1!==i.indexOf("btn-placeholder")||(i=L(this).val()),""!==o&&"ywctm_icon_type"===o.attr("id"))switch(o.val()){case"icon":U.show(500),N.show(500),O.show(500),Q.show(500),$.hide();break;case"custom":U.hide(),N.hide(),O.hide(),Q.show(500),$.show(500);break;default:U.hide(),N.hide(),O.hide(),Q.hide(),$.hide()}var n=L("#ywctm_default_colors_text").val(),c=L("#ywctm_hover_colors_text").val(),a=L("#ywctm_default_colors_background").val(),r=L("#ywctm_hover_colors_background").val(),d=L("#ywctm_default_colors_borders").val(),l=L("#ywctm_hover_colors_borders").val(),m=L("#ywctm_border_thickness-dimension-top").val(),w=L("#ywctm_border_thickness-dimension-right").val(),_=L("#ywctm_border_thickness-dimension-bottom").val(),p=L("#ywctm_border_thickness-dimension-left").val(),f=L("#ywctm_border_radius-dimension-top-left").val(),u=L("#ywctm_border_radius-dimension-top-right").val(),h=L("#ywctm_border_radius-dimension-bottom-right").val(),y=L("#ywctm_border_radius-dimension-bottom-left").val(),v=L("#ywctm_margin_settings-dimension-top").val(),b=L("#ywctm_margin_settings-dimension-right").val(),g=L("#ywctm_margin_settings-dimension-bottom").val(),x=L("#ywctm_margin_settings-dimension-left").val(),k=L("#ywctm_padding_settings-dimension-top").val(),C=L("#ywctm_padding_settings-dimension-right").val(),q=L("#ywctm_padding_settings-dimension-bottom").val(),z=L("#ywctm_padding_settings-dimension-left").val(),S=L("#ywctm_width_settings_width").val(),j=L("#ywctm_width_settings_unit").val(),F=L("#ywctm_selected_icon").val(),D=L("#ywctm_icon_color_default").val(),R=L("#ywctm_icon_color_hover").val(),T=L("#ywctm_selected_icon_size").val(),A=L("#ywctm_selected_icon_alignment").val(),E=L("#ywctm_custom_icon").val(),H=L("#ywctm_hover_animation").val();switch(L("#ywctm_icon_type").val()){case"icon":switch((e=F.split(":"))[0]){case"FontAwesome":s="fa fa-"+e[1];break;case"Dashicons":s="dashicons dashicons-"+e[1];break;case"retinaicon-font":s="retinaicon-font "+e[1]}t='<span class="ywctm-icon-form '+s+'"></span>';break;case"custom":t='<span class="custom-icon">'+(""!==E?'<img src="'+E+'" />':"")+"</span>";break;default:t=""}"none"===H?K.removeClass("ywctm-hover-effect").removeClass(function(t,e){return(e.match(/\bywctm-effect-\S+/g)||[]).join(" ")}):(K.removeClass(function(t,e){return(e.match(/\bywctm-effect-\S+/g)||[]).join(" ")}).addClass("ywctm-hover-effect ywctm-effect-"+H),L(":root").css("--hover-bg-color",r).css("--bg-color",a).css("--border-radius",f+"px "+u+"px "+h+"px "+y+"px"),"slide-top"!==H&&"slide-left"!==H||(a=r="transparent")),K.css("color",n).css("background-color",a).css("border-color",d).css("border-top-width",m+"px").css("border-right-width",w+"px").css("border-bottom-width",_+"px").css("border-left-width",p+"px").css("border-top-left-radius",f+"px").css("border-top-right-radius",u+"px").css("border-bottom-right-radius",h+"px").css("border-bottom-left-radius",y+"px").css("margin-top",v+"px").css("margin-right",b+"px").css("margin-bottom",g+"px").css("margin-left",x+"px").css("padding-top",k+"px").css("padding-right",C+"px").css("padding-bottom",q+"px").css("padding-left",z+"px").css("width",S+j).html(t+'<span class="ywctm-inquiry-title">'+M(i)+"</span>").off("mouseenter mouseleave").hover(function(){L(this).css("color",c).css("background-color",r).css("border-color",l),L(this).find(".ywctm-icon-form").css("color",R)},function(){L(this).css("color",n).css("background-color",a).css("border-color",d),L(this).find(".ywctm-icon-form").css("color",D)}),K.find(".ywctm-icon-form").css("color",D).css("font-size",T+"px").css("align-self",A),K.find(".custom-icon").css("align-self",A)}).trigger("change"),L(window).scroll(function(){var t=L(".ywctm-button-preview");t.offset().top<L(window).scrollTop()+32?t.find("div.sticky").css({position:"fixed",top:"3rem",width:t.width()}):t.find("div.sticky").css({position:"relative",top:"initial",width:"100%"})})}),L("input[name^=ywctm_button_url_type]").on("change",function(){L(this).is(":checked")&&"custom"===L(this).val()?L("#ywctm_button_url").parent().parent().parent().show(500):L("#ywctm_button_url").parent().parent().parent().hide()}).trigger("change");var e={after_validation:function(t,e){var o=e.data("message"),i=e;i.next(".validate-error").remove(),"valid"!==t?(e.addClass("invalid"),void 0!==o&&i.after('<span class="validate-error">'+o+"</span>")):e.removeClass("invalid")},validateRequiredField:function(){var t=!L(this).val()||null==L(this).val();e.after_validation(t?"":"valid",L(this))}};L(document).on("focusout validate_field",".yith-plugin-ui input.required",e.validateRequiredField),L(document).on("submit","body.post-type-ywctm-button-label form#post",function(t){var e,o=L(t.target).find("input,select,textarea");o.trigger("validate_field"),(e=o.filter(".invalid")).length&&(e.first().focus(),L("#publish").removeClass("disabled"),t.preventDefault())})});