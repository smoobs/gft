var ctm_captcha;function ywctm_recaptcha(){var e=jQuery('form[name="ywctm-default-form"]').find(".g-recaptcha");"undefined"!=typeof grecaptcha&&0<e.length&&(ctm_captcha=grecaptcha.render("recaptcha_ctm",{sitekey:e.data("sitekey")}))}jQuery(function(a){"use strict";var F,r,u,c;a.fn.ywctm_serialize_files=function(){var e=a(this),r=new FormData,t=a(e).serializeArray();return a.each(t,function(e,t){t.name&&r.append(t.name,t.value)}),r},F=a('form[name="ywctm-default-form"]'),r="undefined"!=typeof ywctm_form&&ywctm_form.block_loader,u=a(".ywctm-send-request"),c=function(e,t){e.next(".ywctm_error").length||e.after('<span class="ywctm_error"></span>'),e.next(".ywctm_error").html(t)},F.on("blur",".input-text",function(){var e,t=a(this),r=t.closest("p.form-row"),F=t.val(),u="";F||!r.hasClass("validate-required")||t.is('[type="file"]')?F&&r.hasClass("validate-email")&&(e=F,!new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e))?c(t,ywctm_form.err_msg_mail):t.next(".ywctm_error").remove():(u=ywctm_form.err_msg,c(t,u))}),F.on("submit",function(e){e.preventDefault();var t=F.ywctm_serialize_files();return t.append("context","frontend"),a.ajax({type:"POST",dataType:"json",data:t,contentType:!1,processData:!1,url:ywctm_form.ajaxurl.toString().replace("%%endpoint%%","ywctm_submit_default_form"),beforeSend:function(){u.prop("disabled",!0).after(' <img src="'+r+'" class="ywctm-loader" >')},complete:function(){u.prop("disabled",!1).next().remove()},success:function(e){var t,r;"success"===e.result&&(a(".woocommerce-error, .woocommerce-message").remove(),F.prepend('<div class="woocommerce-notice woocommerce-message">'+e.messages+"</div>"),F.find(".input-text, textarea").val(""),F.find("input:checkbox").prop("checked",!1).trigger("change")),"failure"===e.result&&(a(".woocommerce-error, .woocommerce-message").remove(),e.messages?F.prepend('<div class="woocommerce-error woocommerce-message">'+e.messages+"</div>"):F.prepend(e),F.find(".input-text, input:checkbox").trigger("validate").blur()),t=a(".woocommerce-error, .woocommerce-message"),r="scrollBehavior"in document.documentElement.style,t.length||(t=F),t.length&&(r?t[0].scrollIntoView({behavior:"smooth"}):a("html, body").animate({scrollTop:t.offset().top-100},1e3)),"undefined"!=typeof grecaptcha&&void 0!==ctm_captcha&&grecaptcha.reset(ctm_captcha)}}),!1})});